### 토픽(Topic)과 그룹아이디(Group ID)
#### 토픽
메시지를 발행하고 소비하는 채널 같은 개념 **생산자(Producer)** 는 메시지를 특정 토픽으로 전송한다.
**소비자(Consumer)** 는 해당 토픽을 구독하여 메시지를 받아간다.  
#### 그룹아이디
**소비자 그룹(Consumer Group)** 을 구분짓는 ID, 같은 Group ID를 사용하는 여러 소비자 인스턴스는 협업하여 메시지를 처리합니다. 한 Group 내에 하나의 인스턴스가 하나의 메시지를 처리합니다.
서로 다른 Group ID는 서로 독립적으로 하나의 메시지에 대해서 각각 처리합니다.  

**그룹이 컨슈머 클래스의 그룹이 아니다. 컨슈머 클래스의 인스턴스의 그룹이다.**  
Kafka의 Group ID는 동일한 기능을 하는 Consumer 인스턴스들끼리 묶기 위한 것입니다.
즉, @KafkaListener나 Consumer를 여러 개 띄울 때, 동일한 Group ID를 설정하면 동일한 메시지를 서로 나눠서 처리합니다.  
예를 들어 서로 다른 기능을 하는 A 컨슈머와 B 컨슈머 클래스가 있는데 해당 클래스들의 그룹 아이디를 동일한 그룹 아이디로 하면 안된다. 그룹 아이디는 해당 클래스의 인스턴스를 그룹으로 만들기 위한 것이다.

**인스턴스와 스레드, 파티션의 개념**  
•	인스턴스(Instance). 
인스턴스는 하나의 어플리케이션이 실행될 때 생성되는 실행 단위로, 운영체제에서 말하는 프로세스 개념에 해당한다.  
하나의 서비스를 여러 서버나 컨테이너에 배포하여 서버 이중화 또는 수평 확장을 하게 되면, 어플리케이션 인스턴스도 그 수만큼 늘어난다.  
•	스레드(concurrency)  
Kafka 컨슈머에서 @KafkaListener(concurrency = N) 옵션은 하나의 인스턴스 내부에서 메시지를 병렬로 처리하기 위한 스레드 수를 의미한다.  
이 설정을 통해 인스턴스 하나당 N개의 Kafka 컨슈머 스레드가 생성되어, 파티션이 충분할 경우 병렬 처리를 가능하게 한다.  
•	파티션(Partition)  
파티션은 Kafka 토픽 내부에서 메시지를 저장하고 처리하는 논리적 단위이자 독립적인 통로이다.  
하나의 토픽이 여러 개의 파티션으로 나뉘어 있으면, Producer는 메시지를 보낼 때 3개의 파티션 중 하나를 선택하여 메시지를 전달하게 된다.  
파티션은 메시지 순서를 보장하며, 내부적으로는 로그(log) 구조로 동작한다.  

### 요청-응답 방식(HTTP)와 비동기 이벤트 기반(Message Queue) 방식의 차이
![image](https://github.com/user-attachments/assets/44e158e9-2f84-4c4c-a046-697ef100002c)  

### 요청-응답 방식 (HTTP)의 스레드 모델과 Kafka 기반 이벤트 처리의 스레드 모델

![image](https://github.com/user-attachments/assets/70067e81-19a5-4c7e-9b71-b21124910ff0)

### 풀링방식과 푸시 방식의 차이
폴링 방식은 클라이언트가 주기적으로 서버에 요청을 보내어 새로운 데이터가 있는지 확인하는 구조입니다. 이 방식은 구현이 간단하고 범용적으로 사용할 수 있다는 장점이 있지만, 실시간성이 떨어지고 불필요한 네트워크 요청이 반복적으로 발생할 수 있다는 단점이 있습니다. 예를 들어, 이메일 클라이언트가 10초마다 서버에 접속해 새로운 메일이 있는지 확인하는 것이 대표적인 폴링 방식입니다.  
  
반면, 푸시 방식은 서버에서 새로운 데이터나 이벤트가 발생했을 때 클라이언트에게 즉시 알림이나 데이터를 전송하는 구조입니다. 이 방식은 실시간성이 뛰어나 사용자 경험을 향상시킬 수 있으며, 메시지를 기다리는 대기 상태만 유지하면 되므로 불필요한 요청이 발생하지 않습니다. 대표적인 예로는 WebSocket을 활용한 실시간 채팅, 모바일 푸시 알림, 주식 가격 실시간 갱신 등이 있습니다.
### Gateway, WebSocket 서버, API 서버, 마이크로서비스
<img width="558" alt="image" src="https://github.com/user-attachments/assets/1536f251-d7b1-4a71-88a4-d5a47b75c244" />


### 카프카의 메시지는 언제 처리되는가? 메시지는 파티션에 남아있는데 이 메시지는 언제 처리되는가?

